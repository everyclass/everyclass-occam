# 异常数据

## 问题列举

### 课程信息问题

* **上课节次**会出现各种错误：“少”、“多”、“连”等问题。
* **课程名称**会出现学生看不到的标签，类似“[标签名称]”的形式。
* **上课教师**、**上课时间**两个信息可能会缺少或为空字符，**上课教师**会发生重复。
* **班级名称**可能的格式会出现多种错误，没有一个统一的标准。
* **周次信息**会发生错误，标点符号会有冗余，但没有歧义。

### 学生信息问题

* **课程名称**会出现特殊的备注，类似“--备注内容”的形式。
* **上课教师**的信息会出现拼接错误、顺序错误、内容重复等多种问题。

### 教师信息问题

* **教师名称**后面会有星号，两侧会有空格。
* **教师职称**、**教师学历**可能为空



## 课程信息

```json
{
  "klass": {
    "course_code": "4-53",
    "course_name": "职业与健康",
    "credit": "2",
    "klass_code": "030210",
    "klass_name": "030210",
    "pick_num": "33",
    "klass_num": "0",
    "org": "公共卫生学院院办公室"
  },
  "teachers": [],
  "parts": [
    {
      "week_string": "4/全周",
      "week_list": [],
      "lesson": "40910",
      "room": "B座409",
      "md5": ""
    }
  ],
  "md5": ""
},
{
  "klass": {
    "course_code": "4-53",
    "course_name": "职业与健康",
    "credit": "2",
    "klass_code": "030210",
    "klass_name": "030210",
    "pick_num": "33",
    "klass_num": "0",
    "org": "公共卫生学院院办公室"
  },
  "teachers": [],
  "parts": [
    {
      "week_string": "3,5,7-18/全周",
      "week_list": [],
      "lesson": "40910",
      "room": "B座409",
      "md5": ""
    }
  ],
  "md5": ""
}
```

`klass_code`不是唯一的，但实际上是同一节课

合并策略为：“**同一行政班的合并老师，其中同一节次、地点的合并周次**”

```json
{
  "klass": {
    "course_code": "231302Z11",
    "course_name": "人体形态学实验 B1",
    "klass_code": "019460",
    "klass_name": "生信1601",
    "c_num": "1",
    "s_num": "18",
    "credit": "1.5",
    "org": "形态学实验中心",
    "jxid": "E0AAAC1D162044D5A5C5E499E7CB6B1B"
  },
  "teachers": "肖玲",
  "parts": [
    {
      "week_s": "2-18/全周",
      "week_p": "301020304",
      "room_s": " "
    }
  ]
}
```

该示例中**无上课地点**，课程时间为**两节课合并**

```json
{
  "klass": {
    "course_code": "221101Z1",
    "course_name": "皮肤性病学[讲课学时]",
    "klass_code": "019357",
    "klass_name": "14口腔五年1组班,14口腔五年2组班,14口腔五年3组班,14口腔五年4组班,14口腔五年5组",
    "c_num": "5",
    "s_num": "67",
    "credit": "1.5",
    "org": "湘雅医院皮肤性病学教研室",
    "jxid": "2202592012"
  },
  "teachers": "张江林,匡叶红",
  "parts": [
    {
      "week_s": "3-9/全周",
      "week_p": "5010203",
      "room_s": "老校区七教室"
    }
  ]
},
{
  "klass": {
    "course_code": "140123Z1",
    "course_name": "物理学史",
    "klass_code": "015103",
    "klass_name": "应物1401",
    "c_num": "1",
    "s_num": "31",
    "credit": "1",
    "org": "物理系",
    "jxid": "1402042012"
  },
  "teachers": "肖思",
  "parts": [
    {
      "week_s": "3-18/全周",
      "week_p": "506",
      "room_s": "数理楼131"
    }
  ]
},
{
  "klass": {
    "course_code": "22104021",
    "course_name": "内科学[讲课学时]",
    "klass_code": "018172",
    "klass_name": "14临五附二1组班,14临五附二2组班,14临五附二3组班,14临五附二4组班,14临五附二5组班,14临五附二6组班,14临五附二7组班,14临五附二8组",
    "c_num": "8",
    "s_num": "107",
    "credit": "8.5",
    "org": "湘雅二医院内科学教研室",
    "jxid": "2202072012"
  },
  "teachers": "诸兰艳",
  "parts": [
    {
      "week_s": "1/全周",
      "week_p": "30102030405060708",
      "room_s": "新科教楼0203"
    }
  ]
}
```

课程时间可以为**一节半课**，而且还可以是只上后半截课的，还可以上一天课的

```json
{
  "klass": {
    "course_code": "22201011",
    "course_name": "临床麻醉学[实验学时]",
    "klass_code": "022759",
    "klass_name": "14麻醉附一1组",
    "c_num": "1",
    "s_num": "0",
    "credit": "3",
    "org": "麻醉医学系",
    "jxid": "2202752012"
  },
  "teachers": "  ",
  "parts": [
    {
      "week_s": "6-13/全周",
      "week_p": "301020304",
      "room_s": " "
    }
  ]
},
{
  "klass": {
    "course_code": "660001T30",
    "course_name": "体育（三）[男]",
    "klass_code": "足球-016749",
    "klass_name": "足球",
    "c_num": "0",
    "s_num": "33",
    "credit": "1",
    "org": "体育教研部",
    "jxid": "003850"
  },
  "teachers": "李彤",
  "parts": [
    {
      "week_s": "3-18/全周",
      "week_p": "30506",
      "room_s": " "
    }
  ]
}
```

**课程名字**旁有'[实验学时]'、'[实践学时]'、'[讲课学时]'的字样，但是学生看不到这些标签，而且学生课表上没有实践学时。同时，实践课程没有老师，没有授课地点，导致其他关键信息重复率极高

```json
{
  "klass": {
    "course_code": "130210Z1",
    "course_name": "物流优化",
    "klass_code": "004715",
    "klass_name": "信科1401-2班,应数1401-3班,统计1401-3",
    "c_num": "8",
    "s_num": "100",
    "credit": "3",
    "org": "信息与计算科学系",
    "jxid": "0006062012"
  },
  "teachers": "万中",
  "parts": [
    {
      "week_s": "1-8/全周",
      "week_p": "30910",
      "room_s": "D座101"
    }
  ]
},
{
  "klass": {
    "course_code": "110210Z1",
    "course_name": "物流管理信息系统",
    "klass_code": "004394",
    "klass_name": "物流1501",
    "c_num": "1",
    "s_num": "23",
    "credit": "2",
    "org": "物流系",
    "jxid": "1102042012"
  },
  "teachers": "王美云",
  "parts": [
    {
      "week_s": "1-8/全周",
      "week_p": "30304",
      "room_s": "世主506"
    }
  ]
}
```

自习观察可以发现**行政班**名称上有使用'xxxx班'还有使用'xxxx'的，该情况为上课班级的解析增加难题

```json
{
  "klass": {
    "course_code": "230301Z1",
    "course_name": "病理学A[讲课学时]",
    "klass_code": "017626",
    "klass_name": "精神1501班,临床(五年)1511",
    "c_num": "2",
    "s_num": "58",
    "credit": "5",
    "org": "病理学系",
    "jxid": "2701042012"
  },
  "teachers": "李景和,李景和",
  "parts": [
    {
      "week_s": "2-17/全周",
      "week_p": "20708",
      "room_s": "T109"
    }
  ]
}
```

教师名字会发生重复

```json
{
  "klass": {
    "course_code": "080122Z1",
    "course_name": "材料成形过程计算机建模与仿真",
    "klass_code": "017554",
    "klass_name": "机械1508班机械[1510-11]班工程试验班（材料成型)1501",
    "c_num": "4",
    "s_num": "46",
    "credit": "2.5",
    "org": "冶金机械研究所",
    "jxid": "0004572012"
  },
  "teachers": "黄明辉,湛利华",
  "parts": [
    {
      "week_s": "9-18/全周",
      "week_p": "10304",
      "room_s": "B座409"
    }
  ]
}
```

自2018年起，班级名称之间可能不会用逗号隔开，根据观察发现每两个班级之间有'班'字作为区分

```json
{
  "klass": {
    "course_code": "250202Z1a",
    "course_name": "内科护理学（一）[实践学时]",
    "klass_code": "分组01-017959",
    "klass_name": "护理1403-4",
    "c_num": "2",
    "s_num": "27",
    "credit": "7",
    "org": "临床护理系",
    "jxid": "2403112012"
  },
  "teachers": "王秀华,张静平,毛婷",
  "parts": [
    {
      "week_s": "4--5,7-18/全周",
      "week_p": "401020304",
      "room_s": " "
    }
  ]
}
```

上课周次会出现两个'-'



## 学生课表

```json
{
  "name": "概率论与数理统计-重修班-重修",
  "teacher": "刘碧玉教授",
  "cycle": "周",
  "week": "6-16",
  "time": "60102",
  "address": "B座212"
}
{
  "name": "行政法与行政诉讼法--辅修",
  "teacher": "黄先雄教授",
  "cycle": "周",
  "week": "3-18",
  "time": "60102",
  "address": "B座302"
}
```

课程表上的名字存在其他的奇葩数据

| 发现学期    | 字段内容           |
| ----------- | ------------------ |
| 2016-2017-1 | --重修             |
| 2017-2018-1 | -重修班-重修       |
| 2017-2018-1 | --辅修             |
| 2018-2019-1 | -新校区重修班-重修 |
| 2018-2019-1 | -铁道重修班-重修   |
|             |                    |



```json
{
  "klass": {
    "course_code": "030209Z1",
    "course_name": "煤化学",
    "klass_code": "007290",
    "klass_name": "工程试验班(矿物)1504,工程试验班(矿物)1505",
    "c_num": "2",
    "s_num": "41",
    "credit": "2",
    "org": "矿物工程及钢铁系",
    "jxid": "0301822012"
  },
  "teachers": "潘建,徐斌,张元波教授,副教授,教授",
  "parts": [
    {
      "week_s": "11-18/全周",
      "week_p": "50910",
      "room_s": "科教南607"
    }
  ]
}
{
  "name": "煤化学",
  "teacher": "潘建,徐斌,张元波副教授,教授",
  "cycle": "周",
  "week": "11-18",
  "time": "50910",
  "address": "科教南607"
}
```

老师的职称重复，乱序或拼接，无法解析，~~还好老师名字的顺序还是保住了~~，老师的名字顺序也是不确定的

```
职业与健康
关岚讲师（高校）
4周
B座409

------------------------------
职业与健康
曾明教授
3,5,7-18周
B座409

------------------------------
职业与健康
关岚讲师（高校）
6周
B座409
```

同一节课因为穿插上课而出现多个记录的需要合并在一起

合并策略为：“**同一行政班的合并老师，其中同一节次、地点的合并周次**”

```json
2801150125 麻醉15级4组
{
  "73f4627052463a908fd640eb1545f7d9": [
    [
      [
        "法医1501",
        "麻醉1501",
        "麻醉1502"
      ],
      "017774",
      "机能实验学C汉建忠[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]50304"
    ],
    [
      [
        "口腔(五年)1501",
        "口腔(五年)1502",
        "口腔(五年)1503"
      ],
      "019278",
      "机能实验学C汉建忠[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]50304"
    ]
  ]
}
```

学生所在的班级信息两方不一致，信息无法匹配

```json
{
  "name": "职业生涯规划与求职就业指导",
  "teacher": "桂玲智助理研究员",
  "cycle": "周",
  "week": "15",
  "time": "30910",
  "address": "世Ｄ101"
}
{
  "name": "职业生涯规划与求职就业指导",
  "teacher": "桂玲智助理研究员",
  "cycle": "周",
  "week": "1-14",
  "time": "40910",
  "address": "创南215"
}
```

同样的课可能会被分开



## 教师信息

```json
{
  "code": "2963",
  "name": "刘哲宁",
  "unit": "湘雅二医院",
  "title": "未定",
  "qualification": "",
  "degree": ""
}
```

教师的**职称**可以叫未定，可以没有文凭，没有学历

```json
{
  "code": "138999",
  "name": "刘宏伟*",
  "unit": "资源加工与生物工程学院",
  "title": "",
  "qualification": "",
  "degree": ""
}
```

教师的**名字**上有'*'标记，教师的**职称**可以为空

```json
{
  "code": "701236",
  "name": "李铌 ",
  "unit": "建筑与艺术学院",
  "title": "副教授",
  "qualification": "",
  "degree": "博士毕业"
}
```

教师**名字**两侧可能会出现空格